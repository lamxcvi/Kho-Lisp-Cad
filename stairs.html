<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T√≠nh Chia B·∫≠c C·∫ßu Thang</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background-color: #1e1e1e; color: #d4d4d4; padding: 20px; text-align: center; }
        .container { max-width: 600px; margin: 0 auto; background: #252526; padding: 30px; border-radius: 10px; border: 1px solid #3e3e42; box-shadow: 0 4px 15px rgba(0,0,0,0.5); }
        h1 { color: #4ec9b0; margin-top: 0; }
        
        .control-group { margin-bottom: 20px; text-align: left; }
        label { display: block; margin-bottom: 5px; color: #ce9178; font-weight: bold; }
        input { width: 100%; padding: 12px; border-radius: 5px; border: 1px solid #555; background: #333; color: white; box-sizing: border-box; font-size: 16px; outline: none; }
        
        .btn { border: none; padding: 12px 25px; border-radius: 5px; font-size: 16px; cursor: pointer; color: white; font-weight: bold; width: 100%; background-color: #d16d00; transition: 0.3s; margin-top: 10px;}
        .btn:hover { background-color: #e67e00; }
        
        .btn-back { background-color: #444; margin-bottom: 20px; padding: 8px 15px; font-size: 14px; display: inline-block; text-decoration: none; border-radius: 4px; color: white;}

        /* B·∫£ng k·∫øt qu·∫£ */
        .result-table { width: 100%; margin-top: 20px; border-collapse: collapse; }
        .result-table th { background: #333; color: #aaa; padding: 10px; text-align: center; border: 1px solid #444; }
        .result-table td { border: 1px solid #444; padding: 12px; font-size: 1.1em; text-align: center; }
        
        .good-luck { color: #4caf50; font-weight: bold; } /* Cung t·ªët */
        .bad-luck { color: #ff5555; font-weight: bold; } /* Cung x·∫•u */

        .note { font-size: 0.9em; color: #888; font-style: italic; margin-top: 10px; text-align: left;}
    </style>
</head>
<body>

    <a href="index.html" class="btn btn-back">‚¨Ö Quay l·∫°i Trang ch·ªß</a>

    <div class="container">
        <h1>üìê T√çNH CHIA B·∫¨C C·∫¶U THANG</h1>
        
        <div class="control-group">
            <label>1. Chi·ªÅu cao t·∫ßng (ho√†n thi·ªán) - mm:</label>
            <input type="number" id="floorHeight" placeholder="V√≠ d·ª•: 3600" value="3600">
        </div>

        <div class="control-group">
            <label>2. Kho·∫£ng chi·ªÅu cao b·∫≠c mong mu·ªën (mm):</label>
            <div style="display: flex; gap: 10px;">
                <input type="number" id="minH" value="150" placeholder="Min">
                <input type="number" id="maxH" value="180" placeholder="Max">
            </div>
        </div>

        <button class="btn" id="calcBtn">T√çNH TO√ÅN PH∆Ø∆†NG √ÅN</button>

        <table class="result-table" id="resultTable" style="display: none;">
            <thead>
                <tr>
                    <th>S·ªë b·∫≠c</th>
                    <th>Cao m·ªói b·∫≠c (mm)</th>
                    <th>Phong Th·ªßy (4n+1)</th>
                </tr>
            </thead>
            <tbody id="tableBody">
                </tbody>
        </table>
        
        <p class="note" id="noteText" style="display: none;">
            *C√¥ng th·ª©c phong th·ªßy: Sinh (1), L√£o (2), B·ªánh (3), T·ª≠ (4).<br>
            ∆Øu ti√™n r∆°i v√†o cung <b>Sinh (4n+1)</b>.
        </p>
    </div>

    <script>
        // G√°n s·ª± ki·ªán cho n√∫t b·∫•m
        document.getElementById("calcBtn").addEventListener("click", calculateStairs);

        function calculateStairs() {
            try {
                // L·∫•y gi√° tr·ªã
                var floorH = document.getElementById('floorHeight').value;
                var minH = document.getElementById('minH').value;
                var maxH = document.getElementById('maxH').value;
                
                var H = parseInt(floorH);
                var min = parseInt(minH);
                var max = parseInt(maxH);

                var tbody = document.getElementById('tableBody');
                var table = document.getElementById('resultTable');
                var note = document.getElementById('noteText');

                // Ki·ªÉm tra nh·∫≠p li·ªáu
                if (!H || !min || !max) { 
                    alert("Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß c√°c con s·ªë!"); 
                    return; 
                }

                // X√≥a k·∫øt qu·∫£ c≈©
                tbody.innerHTML = ""; 
                
                // T√≠nh to√°n
                var minSteps = Math.ceil(H / max);
                var maxSteps = Math.floor(H / min);

                var found = false;

                for (var i = minSteps; i <= maxSteps; i++) {
                    var stepHeight = (H / i).toFixed(1); // Chia ƒë·ªÅu, l·∫•y 1 s·ªë l·∫ª
                    
                    // T√≠nh Phong Th·ªßy (Sinh-L√£o-B·ªánh-T·ª≠)
                    var remainder = i % 4;
                    var fengshui = "";
                    var cssClass = "";

                    if (remainder === 1) { fengshui = "SINH (R·∫•t T·ªët)"; cssClass = "good-luck"; }
                    else if (remainder === 2) { fengshui = "L√ÉO (T·ªët)"; cssClass = "good-luck"; }
                    else if (remainder === 3) { fengshui = "B·ªÜNH (X·∫•u)"; cssClass = "bad-luck"; }
                    else { fengshui = "T·ª¨ (R·∫•t X·∫•u)"; cssClass = "bad-luck"; }

                    // T·∫°o d√≤ng k·∫øt qu·∫£
                    var row = "<tr>" +
                        "<td><b>" + i + " b·∫≠c</b></td>" +
                        "<td>" + stepHeight + "</td>" +
                        "<td class='" + cssClass + "'>" + fengshui + "</td>" +
                    "</tr>";
                    
                    tbody.innerHTML += row;
                    found = true;
                }

                if (!found) {
                    tbody.innerHTML = "<tr><td colspan='3' style='color: yellow'>Kh√¥ng c√≥ ph∆∞∆°ng √°n n√†o!<br>H√£y n·ªõi r·ªông kho·∫£ng chi·ªÅu cao b·∫≠c (Min-Max).</td></tr>";
                }

                // Hi·ªán b·∫£ng
                table.style.display = "table";
                note.style.display = "block";

            } catch (err) {
                alert("L·ªói code: " + err.message);
            }
        }
    </script>
</body>
</html>
