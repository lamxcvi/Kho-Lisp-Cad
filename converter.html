<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chuy·ªÉn ƒê·ªïi ƒê∆°n V·ªã K·ªπ Thu·∫≠t</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background-color: #1e1e1e; color: #d4d4d4; padding: 20px; text-align: center; }
        .container { max-width: 600px; margin: 0 auto; background: #252526; padding: 30px; border-radius: 10px; border: 1px solid #3e3e42; box-shadow: 0 4px 15px rgba(0,0,0,0.5); }
        h1 { color: #4ec9b0; margin-top: 0; }
        
        .control-group { margin-bottom: 20px; text-align: left; }
        label { display: block; margin-bottom: 5px; color: #ce9178; font-weight: bold; }
        select, input { width: 100%; padding: 12px; border-radius: 5px; border: 1px solid #555; background: #333; color: white; box-sizing: border-box; font-size: 16px; outline: none; margin-bottom: 10px;}
        input:focus, select:focus { border-color: #4ec9b0; }

        /* Khung chuy·ªÉn ƒë·ªïi */
        .converter-box { 
            display: flex; 
            align-items: center; 
            justify-content: space-between; 
            gap: 10px; 
            background: #333; 
            padding: 15px; 
            border-radius: 8px; 
            margin-top: 10px;
        }
        
        .unit-col { flex: 1; }
        .arrow { font-size: 24px; color: #4ec9b0; font-weight: bold; }

        .result-display {
            font-size: 2em;
            font-weight: bold;
            color: #4caf50;
            margin-top: 20px;
            min-height: 1.2em;
        }
        
        .btn-back { background-color: #444; margin-bottom: 20px; padding: 8px 15px; font-size: 14px; display: inline-block; text-decoration: none; border-radius: 4px; color: white;}
    </style>
</head>
<body>

    <a href="index.html" class="btn-back">‚¨Ö Quay l·∫°i Trang ch·ªß</a>

    <div class="container">
        <h1>üîÑ ƒê·ªîI ƒê∆†N V·ªä K·ª∏ THU·∫¨T</h1>
        
        <div class="control-group">
            <label>1. Ch·ªçn lo·∫°i ƒë·∫°i l∆∞·ª£ng:</label>
            <select id="measureType" onchange="updateUnits()">
                <option value="length">üìè Chi·ªÅu D√†i (Length)</option>
                <option value="area">squares Di·ªán T√≠ch (Area)</option>
                <option value="pressure">‚öôÔ∏è √Åp Su·∫•t (Pressure)</option>
                <option value="weight">‚öñÔ∏è Kh·ªëi L∆∞·ª£ng (Weight)</option>
                <option value="volume">üíß Th·ªÉ T√≠ch (Volume)</option>
            </select>
        </div>

        <div class="converter-box">
            <div class="unit-col">
                <input type="number" id="inputVal" placeholder="Nh·∫≠p s·ªë..." oninput="convert()" value="1">
                <select id="fromUnit" onchange="convert()"></select>
            </div>

            <div class="arrow">‚ûî</div>

            <div class="unit-col">
                <input type="text" id="outputVal" readonly style="background: #222; color: #4caf50; font-weight: bold;">
                <select id="toUnit" onchange="convert()"></select>
            </div>
        </div>

        <div class="result-display" id="resultText">...</div>
    </div>

    <script>
        // C·∫•u h√¨nh c√°c ƒë∆°n v·ªã v√† t·ª∑ l·ªá quy ƒë·ªïi v·ªÅ ƒë∆°n v·ªã chu·∫©n (Base Unit)
        // Length -> base: meter (m)
        // Area -> base: square meter (m2)
        // Weight -> base: kg
        // Pressure -> base: Pascal (Pa)
        // Volume -> base: Liter (l)

        const unitsData = {
            length: {
                base: 'm',
                units: {
                    'mm': 0.001,
                    'cm': 0.01,
                    'm': 1,
                    'km': 1000,
                    'inch': 0.0254,
                    'ft': 0.3048,
                    'yard': 0.9144,
                    'mile': 1609.34
                }
            },
            area: {
                base: 'm2',
                units: {
                    'mm2': 0.000001,
                    'cm2': 0.0001,
                    'm2': 1,
                    'ha': 10000,
                    'km2': 1000000,
                    'ft2': 0.092903
                }
            },
            pressure: {
                base: 'Pa',
                units: {
                    'Pa': 1,
                    'kPa': 1000,
                    'MPa': 1000000,
                    'Bar': 100000,
                    'Psi': 6894.76,
                    'Kg/cm2': 98066.5,
                    'Atm': 101325
                }
            },
            weight: {
                base: 'kg',
                units: {
                    'g': 0.001,
                    'kg': 1,
                    'ton': 1000, // T·∫•n
                    'lb': 0.453592, // Pound
                    'oz': 0.0283495
                }
            },
            volume: {
                base: 'l',
                units: {
                    'ml': 0.001,
                    'l': 1,
                    'm3': 1000,
                    'gal': 3.78541 // Gallon M·ªπ
                }
            }
        };

        const typeSelect = document.getElementById('measureType');
        const fromSelect = document.getElementById('fromUnit');
        const toSelect = document.getElementById('toUnit');
        const inputVal = document.getElementById('inputVal');
        const outputVal = document.getElementById('outputVal');
        const resultText = document.getElementById('resultText');

        function updateUnits() {
            const type = typeSelect.value;
            const data = unitsData[type].units;
            
            // X√≥a c≈©
            fromSelect.innerHTML = "";
            toSelect.innerHTML = "";

            // Th√™m m·ªõi
            for (let unit in data) {
                let option1 = new Option(unit, unit);
                let option2 = new Option(unit, unit);
                fromSelect.add(option1);
                toSelect.add(option2);
            }

            // M·∫∑c ƒë·ªãnh ch·ªçn c√°i th·ª© 2 cho c·ªôt ƒë√≠ch ƒë·ªÉ ƒë·ª° tr√πng
            if (toSelect.options.length > 1) {
                toSelect.selectedIndex = 1;
            }
            
            convert();
        }

        function convert() {
            const type = typeSelect.value;
            const val = parseFloat(inputVal.value);
            const from = fromSelect.value;
            const to = toSelect.value;
            const rates = unitsData[type].units;

            if (isNaN(val)) {
                outputVal.value = "";
                resultText.innerText = "...";
                return;
            }

            // C√¥ng th·ª©c: (Value * Rate_From) / Rate_To
            // B∆∞·ªõc 1: ƒê·ªïi t·ª´ ƒë∆°n v·ªã ngu·ªìn v·ªÅ ƒë∆°n v·ªã chu·∫©n (Base)
            const baseValue = val * rates[from];
            
            // B∆∞·ªõc 2: ƒê·ªïi t·ª´ chu·∫©n sang ƒë√≠ch
            const result = baseValue / rates[to];

            // L√†m tr√≤n th√¥ng minh (n·∫øu s·ªë qu√° nh·ªè ho·∫∑c qu√° l·ªõn)
            let finalRes = result;
            if (result < 0.0001 || result > 10000) {
                 finalRes = result.toExponential(4); // D·∫°ng khoa h·ªçc 1.2e+5
            } else {
                 finalRes = parseFloat(result.toFixed(4)); // L√†m tr√≤n 4 s·ªë l·∫ª
            }

            outputVal.value = finalRes;
            resultText.innerText = `${val} ${from} = ${finalRes} ${to}`;
        }

        // Kh·ªüi ch·∫°y l·∫ßn ƒë·∫ßu
        updateUnits();
    </script>
</body>
</html>
