<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kho TÃ i NguyÃªn Thiáº¿t Káº¿</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #1e1e1e; color: #d4d4d4; margin: 0; padding: 20px; padding-bottom: 80px; scroll-behavior: smooth; }
        .container { max-width: 800px; margin: 0 auto; }
        h1 { color: #4ec9b0; text-align: center; margin-bottom: 5px;}
        .subtitle { text-align: center; color: #808080; margin-bottom: 20px; font-style: italic;}
        
        /* KHU Vá»°C NÃšT ZALO TRÃŠN CÃ™NG */
        .zalo-section { text-align: center; margin-bottom: 20px; padding: 15px; background: #252526; border-radius: 8px; border: 1px dashed #0088ff; }
        .zalo-btn { background-color: #0068ff; color: white; padding: 10px 20px; font-size: 15px; font-weight: bold; border-radius: 50px; display: inline-block; box-shadow: 0 4px 6px rgba(0,0,0,0.3); transition: transform 0.2s; text-decoration: none;}
        .zalo-btn:hover { background-color: #0056d6; transform: scale(1.05); }

        /* THANH ÄIá»€U HÆ¯á»šNG NHANH */
        .nav-bar { display: flex; justify-content: center; gap: 10px; margin-bottom: 20px; flex-wrap: wrap;}
        .nav-item { padding: 8px 15px; border-radius: 20px; font-size: 13px; font-weight: bold; cursor: pointer; text-decoration: none; color: white; border: 1px solid #444; background: #333;}
        .nav-item:hover { background: #444; }
        .nav-cad { border-color: #ce9178; color: #ce9178; }
        .nav-revit { border-color: #569cd6; color: #569cd6; }
        .nav-su { border-color: #d16d00; color: #d16d00; }

        /* TIÃŠU Äá»€ Tá»ªNG Má»¤C */
        .section-header { margin-top: 40px; margin-bottom: 15px; padding-bottom: 5px; border-bottom: 2px solid #333; font-size: 1.4em; font-weight: bold; display: flex; align-items: center;}
        .section-icon { margin-right: 10px; }
        
        /* ITEM CHUNG */
        .lisp-item { background-color: #252526; padding: 15px; margin-bottom: 15px; border-radius: 4px; border-left: 5px solid #808080; }
        
        /* MÃ€U Sáº®C RIÃŠNG CHO Tá»ªNG LOáº I */
        .type-cad { border-left-color: #ce9178; } /* MÃ u Cam Ä‘áº¥t cho CAD */
        .type-revit { border-left-color: #569cd6; } /* MÃ u Xanh dÆ°Æ¡ng cho Revit */
        .type-su { border-left-color: #d16d00; } /* MÃ u Äá» cam cho SketchUp */

        .lisp-title { font-size: 1.2em; font-weight: bold; color: #dcdcaa; }
        .lisp-desc { font-style: italic; color: #808080; margin: 5px 0; }
        .btn-group { margin-top: 10px; }

        /* NÃšT "VIáº¾T TOOL THEO YÃŠU Cáº¦U" (TRÃ”I Ná»”I) */
        .floating-cta {
            position: fixed; bottom: 20px; right: 20px;
            background-color: #d16d00; color: white;
            padding: 15px 25px; border-radius: 50px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.6);
            font-weight: bold; text-decoration: none; z-index: 1000;
            transition: all 0.3s; display: flex; align-items: center; border: 2px solid #fff; font-size: 15px;
        }
        .floating-cta:hover { transform: scale(1.1); background-color: #e67e00; }

        /* SEARCH BOX */
        .search-box { width: 100%; padding: 12px; margin-bottom: 10px; border-radius: 5px; border: none; font-size: 16px; box-sizing: border-box; outline: none; background: #3c3c3c; color: white;}

        /* BUTTONS */
        button { text-decoration: none; border-radius: 4px; border: none; cursor: pointer; display: inline-block; font-size: 13px; margin-right: 5px; margin-bottom: 5px; padding: 8px 12px; color: white; font-weight: 500;}
        .download-btn { background: #0e639c; } 
        .download-btn:hover { background: #1177bb; }
        .copy-btn { background: #4caf50; } 
        .copy-btn:hover { background: #45a049; }
        .guide-btn { background: #606060; } 
        .guide-btn:hover { background: #808080; }

        /* POPUP MODAL */
        .modal { display: none; position: fixed; z-index: 2000; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.8); }
        .modal-content { background-color: #252526; margin: 15% auto; padding: 20px; border: 1px solid #444; width: 85%; max-width: 500px; border-radius: 8px; position: relative; }
        .close { color: #aaa; float: right; font-size: 28px; font-weight: bold; cursor: pointer; }
        .cmd-highlight { background: #444; padding: 2px 6px; border-radius: 3px; color: #4ec9b0; font-family: monospace; }
    </style>
</head>
<body>

<a href="zalo://conversation?phone=84944699619" class="floating-cta">âœ Viáº¿t Tool theo yÃªu cáº§u</a>

<div class="container">
    <h1>ğŸ“š KHO TÃ€I NGUYÃŠN</h1>
    <div class="subtitle">AutoCAD â€¢ Revit â€¢ SketchUp</div>
    <a href="index.html" style="display: inline-block; text-decoration: none; color: white; background: #444; padding: 8px 15px; border-radius: 5px; margin-bottom: 20px; font-weight: bold;">
        â¬… ğŸ  Vá» Trang Chá»§
    </a>

    <div class="zalo-section">
        <p style="margin-top: 0; margin-bottom: 10px;">ğŸ”’ File cÃ³ máº­t kháº©u. Nháº¯n Zalo Ä‘á»ƒ láº¥y Pass.</p>
        <a href="zalo://conversation?phone=84944699619" class="zalo-btn">ğŸ’¬ Má»Ÿ Zalo Chat Ngay</a>
    </div>

    <input type="text" id="search" class="search-box" placeholder="ğŸ” TÃ¬m kiáº¿m tool..." onkeyup="filterLisp()">
    
    <div class="nav-bar">
        <a href="#section-cad" class="nav-item nav-cad">LISP AUTOCAD</a>
        <a href="#section-revit" class="nav-item nav-revit">ADD-IN REVIT</a>
        <a href="#section-su" class="nav-item nav-su">PLUGIN SKETCHUP</a>
        <a href="resize.html" class="nav-item" style="border-color: #fff; color: #fff; background: #0e639c;">ğŸ–¼ï¸ TOOL RESIZE áº¢NH</a>
        <a href="stairs.html" class="nav-item" style="border-color: #ce9178; color: #ce9178; background: #333;">ğŸ“ TÃNH Cáº¦U THANG</a>
        <a href="converter.html" class="nav-item" style="border-color: #4ec9b0; color: #4ec9b0; background: #333;">ğŸ”„ Äá»”I ÄÆ N Vá»Š</a>
        <a href="power.html" class="nav-item" style="border-color: #d16d00; color: #d16d00; background: #333;">âš¡ TÃNH ÄIá»†N</a>
        <a href="luban.html" class="nav-item" style="border-color: #d16d00; color: #000; background: #d16d00; font-weight: 800;">ğŸ“ THÆ¯á»šC Lá»– BAN</a>
    </div>

    <div id="section-cad" class="section-header" style="color: #ce9178;">
        <span class="section-icon">ğŸ“</span> LISP AUTOCAD
    </div>

    <div class="lisp-item type-cad">
        <div class="lisp-title">TL - TÃ­nh tá»•ng chiá»u dÃ i</div>
        <div class="lisp-desc">TÃ­nh tá»•ng chiá»u dÃ i cÃ¡c Ä‘Æ°á»ng Line, Pline, Arc...</div>
        <div class="btn-group">
            <button class="download-btn" onclick="checkPassAndDownload('TL.lsp')">â¬‡ Táº£i vá»</button>
            <button class="copy-btn" onclick="copyLink('TL.lsp')">ğŸ”— Copy Link</button>
            <button class="guide-btn" onclick="openGuide('TL')">ğŸ“– HÆ°á»›ng dáº«n</button>
        </div>
    </div>

    <div class="lisp-item type-cad">
        <div class="lisp-title">CB - Äáº¿m sá»‘ lÆ°á»£ng Block</div>
        <div class="lisp-desc">Thá»‘ng kÃª sá»‘ lÆ°á»£ng Block vÃ  xuáº¥t báº£ng tá»•ng há»£p.</div>
        <div class="btn-group">
            <button class="download-btn" onclick="checkPassAndDownload('CB.lsp')">â¬‡ Táº£i vá»</button>
            <button class="copy-btn" onclick="copyLink('CB.lsp')">ğŸ”— Copy Link</button>
            <button class="guide-btn" onclick="openGuide('CB')">ğŸ“– HÆ°á»›ng dáº«n</button>
        </div>
    </div>

    <div class="lisp-item type-cad">
        <div class="lisp-title">TC2I - Chuyá»ƒn mÃ u TrueColor</div>
        <div class="lisp-desc">Chuyá»ƒn Ä‘á»•i mÃ u TrueColor sang Index Color Ä‘á»ƒ in áº¥n.</div>
        <div class="btn-group">
            <button class="download-btn" onclick="checkPassAndDownload('TC2I.lsp')">â¬‡ Táº£i vá»</button>
            <button class="copy-btn" onclick="copyLink('TC2I.lsp')">ğŸ”— Copy Link</button>
            <button class="guide-btn" onclick="openGuide('TC2I')">ğŸ“– HÆ°á»›ng dáº«n</button>
        </div>
    </div>
    <div class="lisp-item type-cad">
        <div class="lisp-title">FixBlk - Chuáº©n hÃ³a Block</div>
        <div class="lisp-desc">Chuyá»ƒn toÃ n bá»™ Ä‘á»‘i tÆ°á»£ng trong Block vá» Layer 0 vÃ  mÃ u ByBlock.</div>
        <div class="btn-group">
            <button class="download-btn" onclick="checkPassAndDownload('FixBlk.lsp')">â¬‡ Táº£i vá»</button>
            <button class="copy-btn" onclick="copyLink('FixBlk.lsp')">ğŸ”— Copy Link</button>
            <button class="guide-btn" onclick="openGuide('FixBlk')">ğŸ“– HÆ°á»›ng dáº«n</button>
        </div>
    </div>
    <div id="section-revit" class="section-header" style="color: #569cd6;">
        <span class="section-icon">ğŸ¢</span> ADD-IN REVIT
    </div>

    <div class="lisp-item type-revit">
        <div class="lisp-title">AutoJoin - Tá»± Ä‘á»™ng Join BÃª tÃ´ng</div>
        <div class="lisp-desc">Tá»± Ä‘á»™ng Join Cá»™t, Dáº§m, SÃ n theo thá»© tá»± Æ°u tiÃªn váº­t liá»‡u.</div>
        <div class="btn-group">
            <button class="download-btn" onclick="checkPassAndDownload('AutoJoin.zip')">â¬‡ Táº£i vá»</button>
            <button class="copy-btn" onclick="copyLink('AutoJoin.zip')">ğŸ”— Copy Link</button>
            <button class="guide-btn" onclick="openGuide('RevitJoin')">ğŸ“– HÆ°á»›ng dáº«n</button>
        </div>
    </div>

    <div id="section-su" class="section-header" style="color: #d16d00;">
        <span class="section-icon">ğŸ </span> PLUGIN SKETCHUP
    </div>

    <div class="lisp-item type-su">
        <div class="lisp-title">MakeFace - Táº¡o máº·t nhanh</div>
        <div class="lisp-desc">Tá»± Ä‘á»™ng táº¡o máº·t (Face) tá»« cÃ¡c cáº¡nh khÃ©p kÃ­n.</div>
        <div class="btn-group">
            <button class="download-btn" onclick="checkPassAndDownload('MakeFace.rbz')">â¬‡ Táº£i vá»</button>
            <button class="copy-btn" onclick="copyLink('MakeFace.rbz')">ğŸ”— Copy Link</button>
            <button class="guide-btn" onclick="openGuide('MakeFace')">ğŸ“– HÆ°á»›ng dáº«n</button>
        </div>
    </div>

</div>

<div id="guideModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <div id="modalTitle" class="modal-header">TiÃªu Ä‘á» hÆ°á»›ng dáº«n</div>
        <div id="modalBody" class="modal-body">Ná»™i dung...</div>
    </div>
</div>

<script>
    // --- Cáº¤U HÃŒNH ---
    const ENCRYPTED_PASS = "SG9hbmdsYW1AMTk5Ng=="; // Pass: 123 (Sá»­a láº¡i theo Ã½ báº¡n)

   // 2. Ná»˜I DUNG HÆ¯á»šNG DáºªN (ÄÃƒ Cáº¬P NHáº¬T Äá»’NG Bá»˜)
    const guides = {
        'TL': `
            <b>Lá»‡nh táº¯t:</b> <span class="cmd-highlight">TL</span><br><br>
            1. GÃµ lá»‡nh TL > Enter.<br>
            2. QuÃ©t chá»n cÃ¡c Ä‘á»‘i tÆ°á»£ng (Line, Pline, Arc...).<br>
            3. Káº¿t quáº£ tá»•ng chiá»u dÃ i sáº½ hiá»‡n ra trong báº£ng thÃ´ng bÃ¡o.<br>
            <i>DÃ¹ng Ä‘á»ƒ bá»‘c khá»‘i lÆ°á»£ng dÃ¢y Ä‘iá»‡n, Ä‘Æ°á»ng á»‘ng nÆ°á»›c, náº¹p chá»‰...</i>
        `,
        'CB': `
            <b>Lá»‡nh táº¯t:</b> <span class="cmd-highlight">CB</span><br><br>
            1. GÃµ lá»‡nh CB > Enter.<br>
            2. QuÃ©t chá»n vÃ¹ng báº£n váº½ cáº§n Ä‘áº¿m.<br>
            3. Xem báº£ng thá»‘ng kÃª tÃªn vÃ  sá»‘ lÆ°á»£ng tá»«ng loáº¡i Block.<br>
            <i>DÃ¹ng Ä‘á»ƒ Ä‘áº¿m thiáº¿t bá»‹, á»• cáº¯m, Ä‘Ã¨n, ná»™i tháº¥t cá»±c nhanh.</i>
        `,
        'TC2I': `
            <b>Lá»‡nh táº¯t:</b> <span class="cmd-highlight">TC2I</span><br><br>
            1. GÃµ lá»‡nh TC2I > Enter.<br>
            2. Lisp tá»± Ä‘á»™ng quÃ©t toÃ n bá»™ Layer vÃ  chuyá»ƒn mÃ u TrueColor (RGB) vá» Index.<br>
            3. ThÃ´ng bÃ¡o hoÃ n táº¥t hiá»‡n ra.<br>
            <i>Kháº¯c phá»¥c lá»—i in áº¥n bá»‹ má» hoáº·c sai nÃ©t do Ä‘áº·t nháº§m há»‡ mÃ u RGB.</i>
        `,
        'FixBlk': `
            <b>Lá»‡nh táº¯t:</b> <span class="cmd-highlight">FIXBLK</span><br><br>
            1. GÃµ lá»‡nh FIXBLK > Enter.<br>
            2. QuÃ©t chá»n cÃ¡c Block cáº§n chuáº©n hÃ³a.<br>
            3. Lisp tá»± Ä‘á»™ng chui vÃ o trong Block, Ä‘Æ°a táº¥t cáº£ vá» <b>Layer 0</b> vÃ  mÃ u <b>ByBlock</b>.<br>
            <i>LÆ°u Ã½: Táº¥t cáº£ Block cÃ¹ng tÃªn trong báº£n váº½ Ä‘á»u sáº½ thay Ä‘á»•i theo.</i>
        `,
        // Náº¿u cÃ³ tool Revit/SketchUp thÃ¬ thÃªm tiáº¿p vÃ o dÆ°á»›i Ä‘Ã¢y...
        // HÆ°á»›ng dáº«n cho Revit (VÃ­ dá»¥)
        'RevitJoin': `
            <b>CÃ¡ch cÃ i Ä‘áº·t:</b><br>
            1. Táº£i file .zip vá» vÃ  giáº£i nÃ©n.<br>
            2. Copy vÃ o thÆ° má»¥c Addins cá»§a Revit.<br>
            3. Má»Ÿ Revit > Tab Add-ins > Chá»n Tool.
        `,
        // HÆ°á»›ng dáº«n cho SketchUp (VÃ­ dá»¥)
        'MakeFace': `
            <b>CÃ¡ch cÃ i Ä‘áº·t:</b><br>
            1. Má»Ÿ SketchUp > Window > Extension Manager.<br>
            2. Báº¥m "Install Extension" vÃ  chá»n file .rbz vá»«a táº£i.<br>
            3. Tool sáº½ hiá»‡n trong menu Extensions.
        `
    };

    // --- LOGIC Xá»¬ LÃ (KHÃ”NG Cáº¦N Sá»¬A) ---
    function openGuide(key) {
        document.getElementById("modalTitle").innerText = "HÆ°á»›ng dáº«n: " + key;
        document.getElementById("modalBody").innerHTML = guides[key] ? guides[key] : "Äang cáº­p nháº­t...";
        document.getElementById("guideModal").style.display = "block";
    }
    function closeModal() { document.getElementById("guideModal").style.display = "none"; }
    window.onclick = function(e) { if(e.target == document.getElementById("guideModal")) closeModal(); }

    function checkPassAndDownload(filename) {
        var inputPass = prompt("ğŸ”‘ Nháº­p máº­t kháº©u Ä‘á»ƒ táº£i " + filename + ":");
        if (inputPass != null) {
            try {
                if (btoa(inputPass) === ENCRYPTED_PASS) {
                    var link = document.createElement("a"); link.href = filename; link.download = filename;
                    document.body.appendChild(link); link.click(); document.body.removeChild(link);
                } else { alert("âŒ Sai máº­t kháº©u!"); }
            } catch(e) { alert("âŒ Sai máº­t kháº©u!"); }
        }
    }

    function filterLisp() {
        var filter = document.getElementById('search').value.toUpperCase();
        var items = document.getElementsByClassName('lisp-item');
        for (var i = 0; i < items.length; i++) {
            var txt = items[i].textContent || items[i].innerText;
            items[i].style.display = txt.toUpperCase().indexOf(filter) > -1 ? "" : "none";
        }
    }
    
    function copyLink(filename) {
        var url = window.location.href.replace('index.html', '').replace(/\/$/, '') + '/' + filename;
        navigator.clipboard.writeText(url).then(() => alert("ÄÃ£ copy link: " + filename));
    }
</script>

</body>
</html>
