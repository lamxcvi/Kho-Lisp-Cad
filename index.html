<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kho Lisp CAD C·ªßa T√¥i</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #1e1e1e; color: #d4d4d4; margin: 0; padding: 20px; }
        .container { max-width: 800px; margin: 0 auto; }
        h1 { color: #4ec9b0; text-align: center; margin-bottom: 5px;}
        .subtitle { text-align: center; color: #808080; margin-bottom: 30px; font-style: italic;}
        
        /* KHU V·ª∞C N√öT ZALO */
        .zalo-section { text-align: center; margin-bottom: 30px; padding: 20px; background: #2d2d30; border-radius: 8px; border: 1px dashed #0088ff; }
        .zalo-btn { background-color: #0068ff; color: white; padding: 12px 25px; font-size: 16px; font-weight: bold; border-radius: 50px; display: inline-block; box-shadow: 0 4px 6px rgba(0,0,0,0.3); transition: transform 0.2s; text-decoration: none;}
        .zalo-btn:hover { background-color: #0056d6; transform: scale(1.05); }

        .search-box { width: 100%; padding: 12px; margin-bottom: 20px; border-radius: 5px; border: none; font-size: 16px; box-sizing: border-box; outline: none;}
        .lisp-item { background-color: #252526; padding: 15px; margin-bottom: 15px; border-left: 5px solid #ce9178; border-radius: 4px; }
        .lisp-title { font-size: 1.2em; font-weight: bold; color: #9cdcfe; }
        .lisp-desc { font-style: italic; color: #808080; margin: 5px 0; }
        .btn-group { margin-top: 10px; }
        
        /* STYLE CHO C√ÅC N√öT B·∫§M */
        button { text-decoration: none; border-radius: 4px; border: none; cursor: pointer; display: inline-block; font-size: 13px; margin-right: 5px; margin-bottom: 5px; padding: 8px 12px; color: white; font-weight: 500;}
        .download-btn { background: #0e639c; } /* Xanh d∆∞∆°ng */
        .download-btn:hover { background: #1177bb; }
        .copy-btn { background: #4caf50; } /* Xanh l√° */
        .copy-btn:hover { background: #45a049; }
        .guide-btn { background: #d16d00; } /* M√†u Cam cho n√∫t H∆∞·ªõng d·∫´n */
        .guide-btn:hover { background: #e67e00; }

        /* STYLE CHO POPUP H∆Ø·ªöNG D·∫™N (MODAL) */
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.8); }
        .modal-content { background-color: #252526; margin: 15% auto; padding: 20px; border: 1px solid #ce9178; width: 80%; max-width: 500px; border-radius: 8px; position: relative; box-shadow: 0 4px 10px rgba(0,0,0,0.5); }
        .close { color: #aaa; float: right; font-size: 28px; font-weight: bold; cursor: pointer; }
        .close:hover, .close:focus { color: #fff; text-decoration: none; cursor: pointer; }
        .modal-header { font-size: 1.2em; color: #ce9178; font-weight: bold; margin-bottom: 10px; border-bottom: 1px solid #444; padding-bottom: 5px;}
        .modal-body { line-height: 1.6; font-size: 15px;}
        .cmd-highlight { background: #444; padding: 2px 6px; border-radius: 3px; color: #4ec9b0; font-family: monospace; }
    </style>
</head>
<body>

<div class="container">
    <h1>üìö KHO LISP C·ª¶A T√îI</h1>
    <div class="subtitle">C√¥ng c·ª• h·ªó tr·ª£ tri·ªÉn khai b·∫£n v·∫Ω k·ªπ thu·∫≠t</div>

    <div class="zalo-section">
        <p style="margin-top: 0;">üîí File c√≥ ƒë·∫∑t m·∫≠t kh·∫©u b·∫£o v·ªá.</p>
        <a href="zalo://conversation?phone=84944699619" class="zalo-btn">
            üí¨ M·ªü Zalo Chat Ngay
        </a>
    </div>

    <input type="text" id="search" class="search-box" placeholder="üîç T√¨m ki·∫øm..." onkeyup="filterLisp()">

    <div class="lisp-item">
        <div class="lisp-title">TL - T√≠nh t·ªïng chi·ªÅu d√†i</div>
        <div class="lisp-desc">T√≠nh t·ªïng chi·ªÅu d√†i c√°c ƒë∆∞·ªùng Line, Pline, Arc...</div>
        <div class="btn-group">
            <button class="download-btn" onclick="checkPassAndDownload('TL.lsp')">‚¨á T·∫£i v·ªÅ</button>
            <button class="copy-btn" onclick="copyLink('TL.lsp')">üîó Copy Link</button>
            <button class="guide-btn" onclick="openGuide('TL')">üìñ H∆∞·ªõng d·∫´n</button>
        </div>
    </div>

    <div class="lisp-item">
        <div class="lisp-title">CB - ƒê·∫øm s·ªë l∆∞·ª£ng Block</div>
        <div class="lisp-desc">Th·ªëng k√™ s·ªë l∆∞·ª£ng Block v√† xu·∫•t b·∫£ng t·ªïng h·ª£p.</div>
        <div class="btn-group">
            <button class="download-btn" onclick="checkPassAndDownload('CB.lsp')">‚¨á T·∫£i v·ªÅ</button>
            <button class="copy-btn" onclick="copyLink('CB.lsp')">üîó Copy Link</button>
            <button class="guide-btn" onclick="openGuide('CB')">üìñ H∆∞·ªõng d·∫´n</button>
        </div>
    </div>

    <div class="lisp-item">
        <div class="lisp-title">TC2I - Chuy·ªÉn m√†u TrueColor</div>
        <div class="lisp-desc">Chuy·ªÉn ƒë·ªïi m√†u TrueColor sang Index Color ƒë·ªÉ in ·∫•n.</div>
        <div class="btn-group">
            <button class="download-btn" onclick="checkPassAndDownload('TC2I.lsp')">‚¨á T·∫£i v·ªÅ</button>
            <button class="copy-btn" onclick="copyLink('TC2I.lsp')">üîó Copy Link</button>
            <button class="guide-btn" onclick="openGuide('TC2I')">üìñ H∆∞·ªõng d·∫´n</button>
        </div>
    </div>

    <div class="lisp-item">
        <div class="lisp-title">UpdateTitleBlock - C·∫≠p nh·∫≠t khung t√™n</div>
        <div class="lisp-desc">T·ª± ƒë·ªông ƒëi·ªÅn th√¥ng tin Block khung t√™n h√†ng lo·∫°t.</div>
        <div class="btn-group">
            <button class="download-btn" onclick="checkPassAndDownload('UpdateTitleBlock.lsp')">‚¨á T·∫£i v·ªÅ</button>
            <button class="copy-btn" onclick="copyLink('UpdateTitleBlock.lsp')">üîó Copy Link</button>
            <button class="guide-btn" onclick="openGuide('UpdateTitleBlock')">üìñ H∆∞·ªõng d·∫´n</button>
        </div>
    </div>

</div>

<div id="guideModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <div id="modalTitle" class="modal-header">Ti√™u ƒë·ªÅ h∆∞·ªõng d·∫´n</div>
        <div id="modalBody" class="modal-body">N·ªôi dung...</div>
    </div>
</div>

<script>
    // 1. C·∫§U H√åNH M·∫¨T KH·∫®U (ƒê√É M√É H√ìA BASE64)
    const ENCRYPTED_PASS = "SG9hbmdsYW1AMTk5Ng=="; // M·∫∑c ƒë·ªãnh l√† ...
    
    // 2. N·ªòI DUNG H∆Ø·ªöNG D·∫™N (B·∫†N S·ª¨A L·ªúI VƒÇN ·ªû ƒê√ÇY)
    const guides = {
        'TL': `
            <b>L·ªánh t·∫Øt:</b> <span class="cmd-highlight">TL</span><br><br>
            1. G√µ l·ªánh TL v√† nh·∫•n Enter.<br>
            2. Qu√©t ch·ªçn c√°c ƒë·ªëi t∆∞·ª£ng c·∫ßn ƒëo (Line, Pline, Arc...).<br>
            3. K·∫øt qu·∫£ t·ªïng chi·ªÅu d√†i s·∫Ω hi·ªán ra b·∫£ng th√¥ng b√°o.
        `,
        'CB': `
            <b>L·ªánh t·∫Øt:</b> <span class="cmd-highlight">CB</span><br><br>
            1. G√µ l·ªánh CB.<br>
            2. Qu√©t ch·ªçn v√πng b·∫£n v·∫Ω ch·ª©a c√°c Block c·∫ßn ƒë·∫øm.<br>
            3. Danh s√°ch t√™n Block v√† s·ªë l∆∞·ª£ng s·∫Ω hi·ªán ra.
        `,
        'TC2I': `
            <b>L·ªánh t·∫Øt:</b> <span class="cmd-highlight">TC2I</span><br><br>
            1. G√µ l·ªánh TC2I.<br>
            2. Lisp s·∫Ω t·ª± ƒë·ªông t√¨m c√°c Layer c√≥ m√†u TrueColor (RGB) v√† chuy·ªÉn v·ªÅ m√†u Index g·∫ßn nh·∫•t.<br>
            3. Gi√∫p s·ª≠a l·ªói in b·ªã m·ªù n√©t.
        `,
        'UpdateTitleBlock': `
            <b>L·ªánh t·∫Øt:</b> <span class="cmd-highlight">UTB</span> (ho·∫∑c t√™n l·ªánh b·∫°n ƒë·∫∑t)<br><br>
            1. M·ªü b·∫£n v·∫Ω c·∫ßn c·∫≠p nh·∫≠t.<br>
            2. Ch·∫°y Lisp v√† nh·∫≠p th√¥ng tin ng√†y th√°ng/t√™n ng∆∞·ªùi v·∫Ω.<br>
            3. Lisp t·ª± ƒë·ªông update to√†n b·ªô khung t√™n.
        `
    };

    // --- C√ÅC H√ÄM X·ª¨ L√ù (KH√îNG C·∫¶N S·ª¨A) ---

    function openGuide(key) {
        var modal = document.getElementById("guideModal");
        var title = document.getElementById("modalTitle");
        var body = document.getElementById("modalBody");
        
        // L·∫•y t√™n Lisp l√†m ti√™u ƒë·ªÅ
        title.innerText = "H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng: " + key;
        
        // L·∫•y n·ªôi dung t·ª´ danh s√°ch guides, n·∫øu kh√¥ng c√≥ th√¨ b√°o ƒëang c·∫≠p nh·∫≠t
        body.innerHTML = guides[key] ? guides[key] : "ƒêang c·∫≠p nh·∫≠t h∆∞·ªõng d·∫´n...";
        
        modal.style.display = "block";
    }

    function closeModal() {
        document.getElementById("guideModal").style.display = "none";
    }

    // ƒê√≥ng popup khi b·∫•m ra ngo√†i v√πng tr·∫Øng
    window.onclick = function(event) {
        var modal = document.getElementById("guideModal");
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }

    function checkPassAndDownload(filename) {
        var inputPass = prompt("üîë Vui l√≤ng nh·∫≠p m·∫≠t kh·∫©u ƒë·ªÉ t·∫£i file " + filename + ":");
        if (inputPass != null) {
            try {
                if (btoa(inputPass) === ENCRYPTED_PASS) {
                    var link = document.createElement("a");
                    link.href = filename;
                    link.download = filename;
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                } else {
                    alert("‚ùå M·∫≠t kh·∫©u kh√¥ng ƒë√∫ng!");
                }
            } catch (e) { alert("‚ùå M·∫≠t kh·∫©u kh√¥ng ƒë√∫ng!"); }
        }
    }

    function filterLisp() {
        var input = document.getElementById('search');
        var filter = input.value.toUpperCase();
        var items = document.getElementsByClassName('lisp-item');
        for (var i = 0; i < items.length; i++) {
            var txtValue = items[i].textContent || items[i].innerText;
            if (txtValue.toUpperCase().indexOf(filter) > -1) {
                items[i].style.display = "";
            } else { items[i].style.display = "none"; }
        }
    }
    
    function copyLink(filename) {
        var currentUrl = window.location.href;
        var baseUrl = currentUrl.replace('index.html', '');
        if (baseUrl.endsWith('/')) { baseUrl = baseUrl.slice(0, -1); }
        var fullLink = baseUrl + '/' + filename;
        navigator.clipboard.writeText(fullLink).then(function() {
            alert("ƒê√£ copy link t·∫£i: " + filename);
        }, function(err) {});
    }
</script>

</body>
</html>
