<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kho T√†i Nguy√™n Thi·∫øt K·∫ø</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #1e1e1e; color: #d4d4d4; margin: 0; padding: 20px; padding-bottom: 80px; scroll-behavior: smooth; }
        .container { max-width: 800px; margin: 0 auto; }
        h1 { color: #4ec9b0; text-align: center; margin-bottom: 5px;}
        .subtitle { text-align: center; color: #808080; margin-bottom: 20px; font-style: italic;}
        
        /* KHU V·ª∞C N√öT ZALO TR√äN C√ôNG */
        .zalo-section { text-align: center; margin-bottom: 20px; padding: 15px; background: #252526; border-radius: 8px; border: 1px dashed #0088ff; }
        .zalo-btn { background-color: #0068ff; color: white; padding: 10px 20px; font-size: 15px; font-weight: bold; border-radius: 50px; display: inline-block; box-shadow: 0 4px 6px rgba(0,0,0,0.3); transition: transform 0.2s; text-decoration: none;}
        .zalo-btn:hover { background-color: #0056d6; transform: scale(1.05); }

        /* THANH ƒêI·ªÄU H∆Ø·ªöNG NHANH */
        .nav-bar { display: flex; justify-content: center; gap: 10px; margin-bottom: 20px; flex-wrap: wrap;}
        .nav-item { padding: 8px 15px; border-radius: 20px; font-size: 13px; font-weight: bold; cursor: pointer; text-decoration: none; color: white; border: 1px solid #444; background: #333;}
        .nav-item:hover { background: #444; }
        .nav-cad { border-color: #ce9178; color: #ce9178; }
        .nav-revit { border-color: #569cd6; color: #569cd6; }
        .nav-su { border-color: #d16d00; color: #d16d00; }

        /* TI√äU ƒê·ªÄ T·ª™NG M·ª§C */
        .section-header { margin-top: 40px; margin-bottom: 15px; padding-bottom: 5px; border-bottom: 2px solid #333; font-size: 1.4em; font-weight: bold; display: flex; align-items: center;}
        .section-icon { margin-right: 10px; }
        
        /* ITEM CHUNG */
        .lisp-item { background-color: #252526; padding: 15px; margin-bottom: 15px; border-radius: 4px; border-left: 5px solid #808080; }
        
        /* M√ÄU S·∫ÆC RI√äNG CHO T·ª™NG LO·∫†I */
        .type-cad { border-left-color: #ce9178; } /* M√†u Cam ƒë·∫•t cho CAD */
        .type-revit { border-left-color: #569cd6; } /* M√†u Xanh d∆∞∆°ng cho Revit */
        .type-su { border-left-color: #d16d00; } /* M√†u ƒê·ªè cam cho SketchUp */

        .lisp-title { font-size: 1.2em; font-weight: bold; color: #dcdcaa; }
        .lisp-desc { font-style: italic; color: #808080; margin: 5px 0; }
        .btn-group { margin-top: 10px; }

        /* N√öT "VI·∫æT TOOL THEO Y√äU C·∫¶U" (TR√îI N·ªîI) */
        .floating-cta {
            position: fixed; bottom: 20px; right: 20px;
            background-color: #d16d00; color: white;
            padding: 15px 25px; border-radius: 50px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.6);
            font-weight: bold; text-decoration: none; z-index: 1000;
            transition: all 0.3s; display: flex; align-items: center; border: 2px solid #fff; font-size: 15px;
        }
        .floating-cta:hover { transform: scale(1.1); background-color: #e67e00; }

        /* SEARCH BOX */
        .search-box { width: 100%; padding: 12px; margin-bottom: 10px; border-radius: 5px; border: none; font-size: 16px; box-sizing: border-box; outline: none; background: #3c3c3c; color: white;}

        /* BUTTONS */
        button { text-decoration: none; border-radius: 4px; border: none; cursor: pointer; display: inline-block; font-size: 13px; margin-right: 5px; margin-bottom: 5px; padding: 8px 12px; color: white; font-weight: 500;}
        .download-btn { background: #0e639c; } 
        .download-btn:hover { background: #1177bb; }
        .copy-btn { background: #4caf50; } 
        .copy-btn:hover { background: #45a049; }
        .guide-btn { background: #606060; } 
        .guide-btn:hover { background: #808080; }

        /* POPUP MODAL */
        .modal { display: none; position: fixed; z-index: 2000; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.8); }
        .modal-content { background-color: #252526; margin: 15% auto; padding: 20px; border: 1px solid #444; width: 85%; max-width: 500px; border-radius: 8px; position: relative; }
        .close { color: #aaa; float: right; font-size: 28px; font-weight: bold; cursor: pointer; }
        .cmd-highlight { background: #444; padding: 2px 6px; border-radius: 3px; color: #4ec9b0; font-family: monospace; }
    </style>
</head>
<body>

<a href="zalo://conversation?phone=84944699619" class="floating-cta">‚úç Vi·∫øt Tool theo y√™u c·∫ßu</a>

<div class="container">
    <h1>üìö KHO T√ÄI NGUY√äN</h1>
    <div class="subtitle">AutoCAD ‚Ä¢ Revit ‚Ä¢ SketchUp</div>

    <div class="zalo-section">
        <p style="margin-top: 0; margin-bottom: 10px;">üîí File c√≥ m·∫≠t kh·∫©u. Nh·∫Øn Zalo ƒë·ªÉ l·∫•y Pass.</p>
        <a href="zalo://conversation?phone=84944699619" class="zalo-btn">üí¨ M·ªü Zalo Chat Ngay</a>
    </div>

    <input type="text" id="search" class="search-box" placeholder="üîç T√¨m ki·∫øm tool..." onkeyup="filterLisp()">
    
    <div class="nav-bar">
        <a href="#section-cad" class="nav-item nav-cad">LISP AUTOCAD</a>
        <a href="#section-revit" class="nav-item nav-revit">ADD-IN REVIT</a>
        <a href="#section-su" class="nav-item nav-su">PLUGIN SKETCHUP</a>
    </div>

    <div id="section-cad" class="section-header" style="color: #ce9178;">
        <span class="section-icon">üìê</span> LISP AUTOCAD
    </div>

    <div class="lisp-item type-cad">
        <div class="lisp-title">TL - T√≠nh t·ªïng chi·ªÅu d√†i</div>
        <div class="lisp-desc">T√≠nh t·ªïng chi·ªÅu d√†i c√°c ƒë∆∞·ªùng Line, Pline, Arc...</div>
        <div class="btn-group">
            <button class="download-btn" onclick="checkPassAndDownload('TL.lsp')">‚¨á T·∫£i v·ªÅ</button>
            <button class="copy-btn" onclick="copyLink('TL.lsp')">üîó Copy Link</button>
            <button class="guide-btn" onclick="openGuide('TL')">üìñ H∆∞·ªõng d·∫´n</button>
        </div>
    </div>

    <div class="lisp-item type-cad">
        <div class="lisp-title">CB - ƒê·∫øm s·ªë l∆∞·ª£ng Block</div>
        <div class="lisp-desc">Th·ªëng k√™ s·ªë l∆∞·ª£ng Block v√† xu·∫•t b·∫£ng t·ªïng h·ª£p.</div>
        <div class="btn-group">
            <button class="download-btn" onclick="checkPassAndDownload('CB.lsp')">‚¨á T·∫£i v·ªÅ</button>
            <button class="copy-btn" onclick="copyLink('CB.lsp')">üîó Copy Link</button>
            <button class="guide-btn" onclick="openGuide('CB')">üìñ H∆∞·ªõng d·∫´n</button>
        </div>
    </div>

    <div class="lisp-item type-cad">
        <div class="lisp-title">TC2I - Chuy·ªÉn m√†u TrueColor</div>
        <div class="lisp-desc">Chuy·ªÉn ƒë·ªïi m√†u TrueColor sang Index Color ƒë·ªÉ in ·∫•n.</div>
        <div class="btn-group">
            <button class="download-btn" onclick="checkPassAndDownload('TC2I.lsp')">‚¨á T·∫£i v·ªÅ</button>
            <button class="copy-btn" onclick="copyLink('TC2I.lsp')">üîó Copy Link</button>
            <button class="guide-btn" onclick="openGuide('TC2I')">üìñ H∆∞·ªõng d·∫´n</button>
        </div>
    </div>

    <div id="section-revit" class="section-header" style="color: #569cd6;">
        <span class="section-icon">üè¢</span> ADD-IN REVIT
    </div>

    <div class="lisp-item type-revit">
        <div class="lisp-title">AutoJoin - T·ª± ƒë·ªông Join B√™ t√¥ng</div>
        <div class="lisp-desc">T·ª± ƒë·ªông Join C·ªôt, D·∫ßm, S√†n theo th·ª© t·ª± ∆∞u ti√™n v·∫≠t li·ªáu.</div>
        <div class="btn-group">
            <button class="download-btn" onclick="checkPassAndDownload('AutoJoin.zip')">‚¨á T·∫£i v·ªÅ</button>
            <button class="copy-btn" onclick="copyLink('AutoJoin.zip')">üîó Copy Link</button>
            <button class="guide-btn" onclick="openGuide('RevitJoin')">üìñ H∆∞·ªõng d·∫´n</button>
        </div>
    </div>

    <div id="section-su" class="section-header" style="color: #d16d00;">
        <span class="section-icon">üè†</span> PLUGIN SKETCHUP
    </div>

    <div class="lisp-item type-su">
        <div class="lisp-title">MakeFace - T·∫°o m·∫∑t nhanh</div>
        <div class="lisp-desc">T·ª± ƒë·ªông t·∫°o m·∫∑t (Face) t·ª´ c√°c c·∫°nh kh√©p k√≠n.</div>
        <div class="btn-group">
            <button class="download-btn" onclick="checkPassAndDownload('MakeFace.rbz')">‚¨á T·∫£i v·ªÅ</button>
            <button class="copy-btn" onclick="copyLink('MakeFace.rbz')">üîó Copy Link</button>
            <button class="guide-btn" onclick="openGuide('MakeFace')">üìñ H∆∞·ªõng d·∫´n</button>
        </div>
    </div>

</div>

<div id="guideModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <div id="modalTitle" class="modal-header">Ti√™u ƒë·ªÅ h∆∞·ªõng d·∫´n</div>
        <div id="modalBody" class="modal-body">N·ªôi dung...</div>
    </div>
</div>

<script>
    // --- C·∫§U H√åNH ---
    const ENCRYPTED_PASS = "SG9hbmdsYW1AMTk5Ng=="; // Pass: 123 (S·ª≠a l·∫°i theo √Ω b·∫°n)

    // N·ªòI DUNG H∆Ø·ªöNG D·∫™N
    const guides = {
        'TL': `<b>L·ªánh t·∫Øt:</b> TL<br>Qu√©t ch·ªçn ƒë·ªëi t∆∞·ª£ng ƒë·ªÉ t√≠nh t·ªïng chi·ªÅu d√†i.`,
        'CB': `<b>L·ªánh t·∫Øt:</b> CB<br>Qu√©t ch·ªçn v√πng ƒë·ªÉ ƒë·∫øm Block.`,
        'TC2I': `<b>L·ªánh t·∫Øt:</b> TC2I<br>T·ª± ƒë·ªông chuy·ªÉn m√†u layer v·ªÅ Index.`,
        
        // H∆∞·ªõng d·∫´n cho Revit (V√≠ d·ª•)
        'RevitJoin': `
            <b>C√°ch c√†i ƒë·∫∑t:</b><br>
            1. T·∫£i file .zip v·ªÅ v√† gi·∫£i n√©n.<br>
            2. Copy v√†o th∆∞ m·ª•c Addins c·ªßa Revit.<br>
            3. M·ªü Revit > Tab Add-ins > Ch·ªçn Tool.
        `,
        // H∆∞·ªõng d·∫´n cho SketchUp (V√≠ d·ª•)
        'MakeFace': `
            <b>C√°ch c√†i ƒë·∫∑t:</b><br>
            1. M·ªü SketchUp > Window > Extension Manager.<br>
            2. B·∫•m "Install Extension" v√† ch·ªçn file .rbz v·ª´a t·∫£i.<br>
            3. Tool s·∫Ω hi·ªán trong menu Extensions.
        `
    };

    // --- LOGIC X·ª¨ L√ù (KH√îNG C·∫¶N S·ª¨A) ---
    function openGuide(key) {
        document.getElementById("modalTitle").innerText = "H∆∞·ªõng d·∫´n: " + key;
        document.getElementById("modalBody").innerHTML = guides[key] ? guides[key] : "ƒêang c·∫≠p nh·∫≠t...";
        document.getElementById("guideModal").style.display = "block";
    }
    function closeModal() { document.getElementById("guideModal").style.display = "none"; }
    window.onclick = function(e) { if(e.target == document.getElementById("guideModal")) closeModal(); }

    function checkPassAndDownload(filename) {
        var inputPass = prompt("üîë Nh·∫≠p m·∫≠t kh·∫©u ƒë·ªÉ t·∫£i " + filename + ":");
        if (inputPass != null) {
            try {
                if (btoa(inputPass) === ENCRYPTED_PASS) {
                    var link = document.createElement("a"); link.href = filename; link.download = filename;
                    document.body.appendChild(link); link.click(); document.body.removeChild(link);
                } else { alert("‚ùå Sai m·∫≠t kh·∫©u!"); }
            } catch(e) { alert("‚ùå Sai m·∫≠t kh·∫©u!"); }
        }
    }

    function filterLisp() {
        var filter = document.getElementById('search').value.toUpperCase();
        var items = document.getElementsByClassName('lisp-item');
        for (var i = 0; i < items.length; i++) {
            var txt = items[i].textContent || items[i].innerText;
            items[i].style.display = txt.toUpperCase().indexOf(filter) > -1 ? "" : "none";
        }
    }
    
    function copyLink(filename) {
        var url = window.location.href.replace('index.html', '').replace(/\/$/, '') + '/' + filename;
        navigator.clipboard.writeText(url).then(() => alert("ƒê√£ copy link: " + filename));
    }
</script>

</body>
</html>
